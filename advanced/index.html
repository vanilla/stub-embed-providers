<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            margin: 0;
        }

        #embedVanilla iframe {
            width: 100%;
        }

        header {
            padding: 24px;
        }

        code {
            background: #111;
            color: white;
            padding: 9px 12px;
        }
    </style>
</head>

<body>
    <header>
        <h1>Advanced Embed Header</h1>
        <p>If the embedded frame does not load properly be sure to set the configuration setting

            <pre><code>$Configuration['Garden']['Embed']['Allow'] = 2;</code></pre>
        </p>
    </header>
    <div id="embedVanilla">
    </div>
    <script src="https://dev.vanilla.localhost/js/easyXDM/easyXDM.min.js"></script>
    <script src="https://dev.vanilla.localhost/js/vanilla.embed.js"></script>
    <script>
        function notifyLocation(path) {
            console.log("User navigated to new path: ", path)
        }

        var embed = new Vanilla.embed({
            root: "https://dev.vanilla.localhost",
            container: "embedVanilla",
            onReady: function() {
                console.log("IFrame ready!");
                embed.setLocation("/categories");
            },
            notifyLocation: notifyLocation,
        });
    </script>
</body>

</html>
